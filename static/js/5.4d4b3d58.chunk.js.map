{"version":3,"sources":["pages/Home/Home.styled.js","components/Button/Button.styled.js","components/Button/index.js","constants/nutrientLimits.js","components/Icons/Logo.js","components/Typography/Typography.styled.js","components/Typography/index.js","images/product_image.png","components/Icons/CloseIcon.js","pages/Home/Components/ShoppingBasket/ShoppingBasket.styled.js","components/ProductImage/ProductImage.styled.js","components/ProductImage/index.js","components/Modal/Modal.styled.js","components/Modal/index.js","pages/Home/Components/ShoppingBasket/index.js","components/ShoppingItem/ShoppingItem.styled.js","components/ShoppingItem/index.js","apis/server.js","pages/Home/index.js","helpers/formulas.js"],"names":["PageWrapper","styled","div","Row","direction","justify","align","Header","theme","colors","white","TotalItems","Divider","yellow","typeStyles","primary","css","lightDark","lightDark2","shadows","dp1","borderRadiuses","small","clear","color","gray","StyledButton","button","height","width","fontSizes","medium","variant","Button","children","disabled","fullWidth","props","defaultProps","nutrientLimitsMap","Map","LogoIcon","xmlns","viewBox","transform","d","fill","componentsStyles","h1","xxl","h2","xl","body1","large","body2","caption","StyledTypography","p","fontWeight","gutterBottom","spacings","gutterTop","textAlign","uppercase","Typography","component","as","displayName","CloseIcon","fillRule","clipRule","Wrapper","xxxxxl","l","Container","StyledImage","img","ProductImage","source","name","src","alt","StyledModal","ReactModal","attrs","modalClassName","maxWidth","CloseButton","StyledCloseIcon","black","Modal","onRequestClose","isOpen","maxHeight","overflow","shouldCloseOnOverlayClick","borderRadius","className","ariaHideApp","bodyOpenClassName","style","overlay","zIndex","backgroundColor","onClick","ShoppingBasket","closeModal","isModalOpen","products","useState","error","setError","loading","setLoading","dispatch","useDispatch","map","product","index","product_image","removeFromBasket","err","response","data","message","onRemoveFromBasket","length","onSubmit","inEditMode","purpleLight30","gutterRight","ShoppingItem","editable","addToBasket","data-test","axios","create","baseURL","process","Home","useSelector","state","basketItems","basketModalOpen","setBasketModalOpen","useEffect","a","server","get","fetchProducts","loadProducts","handleAddToBasketClick","nutrients","basketNutrients","item","nutrient","nutrientInBasket","flat","filter","id","amount","reduce","acc","curr","getTotalNutrients","nutrientLimit","totalNutrientVal","total","x","undefined","isNutrientLimitExceeded","alert","Logo"],"mappings":"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","file":"static/js/5.4d4b3d58.chunk.js","sourcesContent":["import styled from \"styled-components/macro\";\r\n\r\nexport const PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 100px 40px;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: ${({ direction }) => direction || \"column\"};\r\n  justify-content: ${({ justify }) => justify || \"flex-start\"};\r\n  align-items: ${({ align }) => align || \"flex-start\"};\r\n  z-index: 1;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  width: 100%;\r\n  height: 100px;\r\n  top: 0;\r\n  padding: 0 30px 20px 65px;\r\n  display: flex;\r\n  position: fixed;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  overflow:hidden;\r\n  background: ${({ theme }) => theme.colors.white};\r\n  z-index: 2;\r\n`;\r\n\r\nexport const TotalItems = styled.div`\r\n    display: block;\r\n    width: 36px;\r\n    height: 36px;\r\n    z-index: 2;\r\n    position: absolute;\r\n    top: -9px;\r\n    right: -9px;\r\n    border-radius: 50%;\r\n    background-color: red;\r\n    line-height: 36px;\r\n    color: white;\r\n    overflow: hidden;\r\n`;\r\n\r\nexport const Divider = styled.div`\r\n  width: 70px;\r\n  height: 2px;\r\n  margin-top: 30px;\r\n  margin-bottom: 25px;\r\n  background-color:  ${({ theme }) => theme.colors.yellow};\r\n`;\r\n\r\nexport const HeadingContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n`;","import styled, { css } from \"styled-components\";\r\n\r\nconst typeStyles = {\r\n  primary: css`\r\n    color: ${({ theme }) => theme.colors.lightDark};\r\n    background-color: ${({ theme }) => theme.colors.yellow};\r\n\r\n    &:disabled {\r\n      background-color: ${({ theme }) => theme.colors.lightDark2};\r\n    }\r\n\r\n    &:hover {\r\n      box-shadow: ${({ theme }) => theme.shadows.dp1};\r\n      border-radius: ${({ theme }) => theme.borderRadiuses.small};\r\n    }\r\n\r\n    &:hover:disabled {\r\n      background-color: ${({ theme }) => theme.colors.lightDark2};\r\n    }\r\n\r\n    &:focus-visible {\r\n      box-shadow: ${({ theme }) => theme.shadows.dp1};\r\n      border-radius: ${({ theme }) => theme.borderRadiuses.small};\r\n    }\r\n\r\n    &:active {\r\n      box-shadow: ${({ theme }) => theme.shadows.dp1};\r\n      border-radius: ${({ theme }) => theme.borderRadiuses.small};\r\n    }\r\n  `,\r\n  clear: css`\r\n    background-color: transparent;\r\n    border: none;\r\n    color: ${({ theme, color }) => theme.colors[color] || theme.colors.gray};\r\n  `,\r\n};\r\n\r\nexport const StyledButton = styled.button`\r\n  display: flex;\r\n  position: relative;\r\n  height: ${({ height }) => (height || \"auto\")};\r\n  width: ${({ width }) => (width || \"auto\")};\r\n  padding: 0;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  border: none;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: ${({ theme }) => theme.fontSizes.medium};\r\n  line-height: 17px;\r\n  user-select: none;\r\n  transition: all 150ms ease;\r\n  overflow: visible;\r\n\r\n  ${({ variant }) => typeStyles[variant] || typeStyles.primary}\r\n\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n    box-shadow: none;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { StyledButton } from \"./Button.styled\";\r\n\r\nexport const ButtonProperties = {\r\n  buttonVariants: [\"primary\", \"clear\"],\r\n};\r\n\r\nconst Button = ({ children, disabled, variant, color, fullWidth, ...props }) => (\r\n  <StyledButton\r\n    disabled={disabled}\r\n    variant={variant}\r\n    color={color}\r\n    fullWidth={fullWidth}\r\n    {...props}\r\n  >\r\n    {children}\r\n  </StyledButton>\r\n);\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.object,\r\n    PropTypes.element,\r\n    PropTypes.array,\r\n    PropTypes.node,\r\n    PropTypes.string,\r\n  ]),\r\n  disabled: PropTypes.bool,\r\n  variant: PropTypes.oneOf(ButtonProperties.buttonVariants),\r\n  color: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n};\r\n\r\nButton.defaultProps = {\r\n  children: \"\",\r\n  disabled: false,\r\n  variant: \"primary\",\r\n  color: null,\r\n  fullWidth: false,\r\n};\r\n\r\nexport default Button;\r\n","export const nutrientLimitsMap = new Map([\r\n    ['vitamin-a', '1500']\r\n]);\r\n","import React from \"react\";\r\n\r\nconst LogoIcon = (props) => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"90.466\"\r\n      height=\"38.582\"\r\n      viewBox=\"0 0 90.466 38.582\"\r\n      {...props}\r\n    >\r\n      <g transform=\"translate(-678.984 -1066.396)\">\r\n        <path\r\n          d=\"M1268.675,1095.557c-3.24,3.49-6.945,4.734-9.332,4.734a5.989,5.989,0,0,1-5.789-4.923,59.943,59.943,0,0,0,6.255-22.7v-.08c0-3.586-2.309-6.188-5.491-6.188s-5.607,2.6-5.612,6.06c0,0,0,21.8.014,22-1.615,1.721-5.727,5.832-11.119,5.832-3.786,0-5.134-3.326-5.134-6.438v-9.883h11.219v-4.687H1232.47V1068.13h-4.687v11.152h-4.1v4.687h4.1l0,10.827a14.731,14.731,0,0,1-10.69,5.391,3.053,3.053,0,0,1-3.065-3.036v-17.885h-4.687v17.885a7.746,7.746,0,0,0,7.752,7.723,19.15,19.15,0,0,0,12.137-4.854,10.174,10.174,0,0,0,.985,1.5,9.222,9.222,0,0,0,7.393,3.458c5.627,0,9.972-3.021,12.6-5.393a11.039,11.039,0,0,0,1.532,2.079,10.332,10.332,0,0,0,7.61,3.314c4.371,0,9.144-2.329,12.767-6.232Zm-15.539-22.527c0-.068,0-1.037,0-1.041a1.206,1.206,0,0,1,1.142-1.212,1.136,1.136,0,0,1,1.14,1.163,60.041,60.041,0,0,1-2.269,14.98Z\"\r\n          transform=\"translate(-502.66 0)\"\r\n          fill=\"#333\"\r\n        />\r\n        <path\r\n          d=\"M697.519,1313.125a12.44,12.44,0,0,1,.512,3.54c0,4.685-.974,8.559-6.059,16.1l-7.933-19.635h-5.056l10.277,25.437h4.333l.6-.781c6.428-9.008,8.528-14.279,8.528-21.115a17.228,17.228,0,0,0-.367-3.54Z\"\r\n          transform=\"translate(0 -233.846)\"\r\n          fill=\"#333\"\r\n        />\r\n        <path\r\n          d=\"M1198.194,1105.78a3.086,3.086,0,1,0-3.087-3.086,3.09,3.09,0,0,0,3.087,3.086\"\r\n          transform=\"translate(-489.173 -31.477)\"\r\n          fill=\"#333\"\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LogoIcon;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport const componentsStyles = {\r\n  h1: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.xxl};\r\n  `,\r\n  h2: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.xl};\r\n  `,\r\n  body1: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.large};\r\n  `,\r\n  body2: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.medium};\r\n  `,\r\n  button: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.medium};\r\n  `,\r\n  caption: css`\r\n    font-size: ${({ theme }) => theme.fontSizes.small};\r\n  `,\r\n};\r\n\r\nexport const StyledTypography = styled.p`\r\n  font-style: normal;\r\n  font-weight: ${({ fontWeight }) => fontWeight || \"normal\"};\r\n  font-size: ${({ theme }) => theme.fontSizes.medium};\r\n  margin-bottom: ${({ gutterBottom, theme }) => theme.spacings[gutterBottom] || \"0px\"};\r\n  margin-top: ${({ gutterTop, theme }) => theme.spacings[gutterTop] || \"0px\"};\r\n  color: ${({ color, theme }) => theme.colors[color] || theme.colors.gray};\r\n  ${({ variant }) => componentsStyles[variant]}\r\n  text-align: ${({ textAlign }) => textAlign};\r\n  text-transform: ${({ uppercase }) => uppercase ? \"uppercase\" : \"none\"};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { StyledTypography } from \"./Typography.styled\";\r\n\r\nexport const variants = [\"h1\",\"h2\", \"body1\", \"body2\", \"button\", \"caption\"];\r\n\r\nconst Typography = ({ component, variant, gutterBottom, gutterTop, fontWeight, textAlign, color, uppercase, ...props }) => {\r\n  return (\r\n    <StyledTypography\r\n      as={component || \"p\"}\r\n      variant={variant}\r\n      textAlign={textAlign}\r\n      gutterBottom={gutterBottom}\r\n      gutterTop={gutterTop}\r\n      uppercase={uppercase}\r\n      fontWeight={fontWeight}\r\n      color={color}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nTypography.propTypes = {\r\n  component: PropTypes.string,\r\n  variant: PropTypes.oneOf(variants),\r\n  gutterBottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  gutterTop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  textAlign: PropTypes.string,\r\n  fontWeight: PropTypes.string,\r\n  uppercase: PropTypes.bool\r\n};\r\n\r\nTypography.defaultProps = {\r\n  component: \"p\",\r\n  variant: \"p\",\r\n  gutterBottom: 0,\r\n  gutterTop: 0,\r\n  textAlign: \"left\",\r\n  color: \"\",\r\n  fontWeight: \"normal\",\r\n  uppercase: false\r\n};\r\n\r\nTypography.displayName = \"Typography\";\r\n\r\nexport default Typography;\r\n","export default __webpack_public_path__ + \"static/media/product_image.8034b78d.png\";","import React from \"react\";\r\n\r\nconst CloseIcon = (props) => {\r\n  return (\r\n    <svg width={14} height={14} viewBox=\"0 0 14 14\" fill=\"none\" {...props}>\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M10.299 6.99971L13.316 3.98271C14.2272 3.07154 14.2272 1.59454 13.316 0.683375C12.4049 -0.227792 10.9279 -0.227792 10.0167 0.683375L6.99971 3.70038L3.98271 0.683375C3.07154 -0.227792 1.59454 -0.227792 0.683375 0.683375C-0.227792 1.59454 -0.227792 3.07154 0.683375 3.98271L3.70038 6.99971L0.683375 10.0167C-0.227792 10.9279 -0.227792 12.4049 0.683375 13.316C1.13837 13.7722 1.73571 13.9997 2.33304 13.9997C2.93038 13.9997 3.52654 13.7722 3.98271 13.316L6.99971 10.299L10.0167 13.316C10.4717 13.7722 11.069 13.9997 11.6664 13.9997C12.2637 13.9997 12.8599 13.7722 13.316 13.316C14.2272 12.4049 14.2272 10.9279 13.316 10.0167L10.299 6.99971Z\"\r\n        fill=\"#FC484C\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CloseIcon;\r\n","import styled from \"styled-components/macro\";\r\nimport CloseIcon from \"../../../../components/Icons/CloseIcon\";\r\n\r\nexport const PageWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px;\r\n`;\r\n\r\nexport const ButtonContainer = styled.div`\r\n  margin-top: ${({ theme }) => theme.spacings.xxxxxl || \"0px\"};\r\n`;\r\n\r\nexport const FieldRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${({ theme }) => theme.spacings.l || \"0px\"};\r\n  width: 100%;\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 0 0 15px;\r\n`;\r\n\r\nexport const StyledCloseIcon = styled(CloseIcon)`\r\n& path {\r\n  fill: ${({ theme }) => theme.colors.lightDark2};\r\n}\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n`;\r\n","import styled from \"styled-components/macro\";\r\n\r\nexport const StyledImage = styled.img`\r\n    display: block;\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { StyledImage } from \"./ProductImage.styled\";\r\n\r\nconst ProductImage = ({ source, width, height, name, ...props }) => {\r\n  return (\r\n    <StyledImage\r\n     src={source}\r\n     width={width}\r\n     height={height}\r\n     alt={name}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nProductImage.propTypes = {\r\n  source: PropTypes.string,\r\n  width: PropTypes.string,\r\n  height: PropTypes.string,\r\n  name: PropTypes.string,\r\n};\r\n\r\nProductImage.defaultProps = {\r\n  source: \"\",\r\n  width: \"\",\r\n  height: \"\",\r\n  name: \"\",\r\n};\r\n\r\nProductImage.displayName = \"ProductImage\";\r\n\r\nexport default ProductImage;\r\n","import styled from \"styled-components\";\r\nimport ReactModal from \"react-modal\";\r\nimport { CloseIcon } from \"../Icons\";\r\n\r\nexport const StyledModal = styled(ReactModal).attrs({\r\n  modalClassName: \"modal\",\r\n})`\r\n  &.modal {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 24px;\r\n    outline: 0;\r\n    border: 1px solid ${({ theme }) => theme.colors.gray};\r\n    box-shadow: none;\r\n    margin: 30px auto 0 auto;\r\n    width: 100%;\r\n    max-width: ${({ maxWidth }) => maxWidth || \"450px\"};\r\n    max-height: 850px;\r\n    min-height: 50px;\r\n    overflow-y: auto;\r\n    background: ${({ theme }) => theme.colors.white};\r\n    padding: 30px 30px 60px;\r\n    z-index: 9;\r\n  }\r\n`;\r\n\r\nexport const CloseButton = styled.button`\r\n  position: absolute;\r\n  right: 16px;\r\n  top: 16px;\r\n  border: 0;\r\n  cursor: pointer;\r\n  background: transparent;\r\n  width: 50px;\r\n  height: 50px;\r\n  z-index: 9;\r\n  padding: 0 0px 4px 0;\r\n  transition: opacity ease-in-out 0.15s;\r\n\r\n  &:hover,\r\n  &:disabled,\r\n  &:focus,\r\n  &:active,\r\n  &:hover:disabled {\r\n    opacity: 0.6;\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const ModalBody = styled.div`\r\n  position: relative;\r\n  padding: 48px 24px 24px;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const StyledCloseIcon = styled(CloseIcon)`\r\n  & path {\r\n    fill: ${({ theme }) => theme.colors.black};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { CloseButton, StyledModal, ModalBody, StyledCloseIcon } from \"./Modal.styled\";\r\n\r\nconst Modal = ({\r\n  onRequestClose,\r\n  isOpen,\r\n  maxWidth,\r\n  maxHeight,\r\n  overflow,\r\n  shouldCloseOnOverlayClick,\r\n  borderRadius,\r\n  children,\r\n}) => {\r\n  return (\r\n    <StyledModal\r\n      className=\"modal\"\r\n      ariaHideApp={false}\r\n      isOpen={isOpen}\r\n      maxWidth={maxWidth}\r\n      maxHeight={maxHeight}\r\n      overflow={overflow}\r\n      onRequestClose={onRequestClose}\r\n      bodyOpenClassName=\"preventScroll\"\r\n      shouldCloseOnOverlayClick={shouldCloseOnOverlayClick}\r\n      borderRadius={borderRadius}\r\n      style={{\r\n        overlay: {\r\n          zIndex: 99,\r\n          backgroundColor: \"rgba(102, 111, 112, 0.7)\"\r\n        },\r\n      }}\r\n    >\r\n      <CloseButton onClick={onRequestClose}>\r\n        <StyledCloseIcon />\r\n      </CloseButton>\r\n      {children}\r\n    </StyledModal>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onRequestClose: PropTypes.func,\r\n  isOpen: PropTypes.bool,\r\n  children: PropTypes.node.isRequired,\r\n  maxWidth: PropTypes.string,\r\n  overflow: PropTypes.bool,\r\n  maxHeight: PropTypes.string,\r\n  shouldCloseOnOverlayClick: PropTypes.bool,\r\n  borderRadius: PropTypes.string,\r\n};\r\n\r\nModal.defaultProps = {\r\n  onRequestClose: () => {},\r\n  isOpen: false,\r\n  maxWidth: null,\r\n  overflow: false,\r\n  maxHeight: null,\r\n  shouldCloseOnOverlayClick: false,\r\n  borderRadius: null,\r\n};\r\n\r\nexport { ModalBody };\r\n\r\nexport default Modal;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport product_image from \"../../../../images/product_image.png\";\r\nimport { Wrapper, Row, Container } from \"./ShoppingBasket.styled\";\r\nimport ProductImage from \"../../../../components/ProductImage\";\r\nimport Typography from \"../../../../components/Typography\";\r\nimport Button from \"../../../../components/Button\";\r\nimport Modal from \"../../../../components/Modal\";\r\nimport { removeFromBasket } from \"../../../../store/Main\";\r\n\r\nconst ShoppingBasket = ({ closeModal, isModalOpen, products }) => {\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const onRemoveFromBasket = (product) => {\r\n    setLoading(true);\r\n    try {\r\n      dispatch(removeFromBasket(product));\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message);\r\n      setLoading(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isModalOpen}\r\n      onRequestClose={closeModal}\r\n      maxWidth=\"475px\"\r\n      borderRadius=\"32px\"\r\n    >\r\n      <Container>\r\n        <Typography color=\"lightDark\" variant=\"h2\" gutterBottom=\"xxl\">Edit basket</Typography>\r\n        {products &&\r\n          products.map((product, index) => (\r\n            <Wrapper key={index}>\r\n              <ProductImage\r\n                source={product_image}\r\n                width=\"100\"\r\n                height=\"100\"\r\n                name={product.name}\r\n              />\r\n              <Row>\r\n                <Typography color=\"black\" variant=\"body2\" gutterBottom=\"xl\">\r\n                  {product.name}\r\n                </Typography>\r\n                <Button variant=\"clear\" onClick={() => onRemoveFromBasket(product)} disabled={loading}>\r\n                  <Typography color=\"red\" variant=\"body1\">\r\n                    Remove\r\n                  </Typography>\r\n                </Button>\r\n              </Row>\r\n            </Wrapper>\r\n          ))}\r\n        {error && <p>There has been an error</p>}\r\n        {loading && <p>Loading...</p>}\r\n        {products.length === 0 && ( <Typography color=\"lightDark\" variant=\"body2\">There are no items in the basket</Typography>)}\r\n      </Container>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nShoppingBasket.propTypes = {\r\n  products: PropTypes.arrayOf({\r\n    name: PropTypes.string,\r\n  }),\r\n  closeModal: PropTypes.func,\r\n  onSubmit: PropTypes.func,\r\n  isModalOpen: PropTypes.bool,\r\n  inEditMode: PropTypes.bool,\r\n};\r\n\r\nShoppingBasket.defaultProps = {\r\n  closeModal: () => {},\r\n  onSubmit: () => {},\r\n  isModalOpen: false,\r\n  inEditMode: false,\r\n  products: []\r\n};\r\n\r\nexport default ShoppingBasket;\r\n","import styled from \"styled-components/macro\";\r\nimport CloseIcon from \"../Icons/CloseIcon\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  padding: ${({ theme }) => theme.spacings.xl};\r\n  background-color: ${({ theme }) => theme.colors.purpleLight30};\r\n  border-radius: ${({ theme }) => theme.borderRadiuses.medium};\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n  min-height: 185px;\r\n  min-width: 310px;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  flex-direction: ${({ direction }) => direction || \"column\"};\r\n  align-items: ${({ align }) => align || \"center\"};\r\n  justify-content: ${({ justify }) => justify || \"flex-start\"};\r\n  margin-right: ${({ gutterRight, theme }) =>\r\n    theme.spacings[gutterRight] || \"0px\"};\r\n  z-index: 1;\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const StyledCloseIcon = styled(CloseIcon)`\r\n& path {\r\n  fill: ${({ theme }) => theme.colors.lightDark2};\r\n}\r\n`;\r\n\r\nexport const Divider = styled.div`\r\n  width: 70px;\r\n  height: 2px;\r\n  margin-top: 30px;\r\n  margin-bottom: 25px;\r\n  background-color:  ${({ theme }) => theme.colors.yellow};\r\n`;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"../../components/Typography\";\r\nimport Button from \"../../components/Button\";\r\nimport ProductImage from \"../../components/ProductImage\";\r\nimport product_image from \"../../images/product_image.png\";\r\nimport { Wrapper, StyledCloseIcon, Row, Divider } from \"./ShoppingItem.styled\";\r\n\r\nconst ShoppingItem = ({\r\n  name,\r\n  editable,\r\n  addToBasket,\r\n  removeFromBasket,\r\n  loading,\r\n  error,\r\n}) => {\r\n  return (\r\n    <Wrapper>\r\n      {editable && (\r\n        <Row direction=\"row\" align=\"flex-end\" justify=\"flex-end\">\r\n          <Button variant=\"clear\" onClick={removeFromBasket}><StyledCloseIcon />AA</Button>\r\n        </Row>\r\n      )}\r\n      <ProductImage\r\n        source={product_image}\r\n        width=\"300\"\r\n        height=\"300\"\r\n        name={name}\r\n        data-test=\"product-image\"\r\n      />\r\n      <Typography color=\"black\" variant=\"body2\" data-test=\"item-name\">\r\n        {name}\r\n      </Typography>\r\n      <Divider />\r\n      <Button width=\"170px\" height=\"60px\" onClick={addToBasket}>Add to basket</Button>\r\n      {loading && <p>loading...</p>}\r\n      {error && <p>error...</p>}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nShoppingItem.propTypes = {\r\n  name: PropTypes.string,\r\n  editable: PropTypes.bool,\r\n  loading: PropTypes.bool,\r\n  error: PropTypes.string,\r\n  addToBasket: PropTypes.func,\r\n  removeFromBasket: PropTypes.func,\r\n};\r\n\r\nShoppingItem.defaultProps = {\r\n  editable: false,\r\n  addToBasket: () => {},\r\n  removeFromBasket: () => {},\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nexport default ShoppingItem;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  // eslint-disable-next-line no-undef\r\n  baseURL: process.env.REACT_APP_SERVER_URL\r\n});","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { PageWrapper, Row, Header, TotalItems, Divider } from \"./Home.styled\";\r\nimport Button from \"../../components/Button\";\r\nimport { nutrientLimitsMap } from \"../../constants/nutrientLimits\";\r\nimport LogoIcon from \"../../components/Icons/Logo\";\r\nimport Typography from \"../../components/Typography\";\r\nimport ShoppingBasket from \"./Components/ShoppingBasket\";\r\nimport ShoppingItem from \"../../components/ShoppingItem\";\r\nimport server from \"../../apis/server\";\r\nimport { getTotalNutrients } from \"../../helpers/formulas\";\r\nimport { fetchProducts, addToBasket } from \"../../store/Main\";\r\n\r\nconst Home = () => {\r\n  const dispatch = useDispatch();\r\n  const products = useSelector((state) => state.products);\r\n  const basketItems = useSelector((state) => state.basketItems);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [basketModalOpen, setBasketModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const loadProducts = async () => {\r\n      try {\r\n        const { data } = await server.get(\"/fe-test.json\");\r\n\r\n        dispatch(fetchProducts(data));\r\n      } catch (err) {\r\n        setError(err?.response?.data?.message);\r\n        setLoading(false);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadProducts();\r\n  }, [dispatch]);\r\n\r\n  const isNutrientLimitExceeded = (nutrients) => {\r\n    const basketNutrients = basketItems.map((item) => item.nutrients);\r\n\r\n    if (basketNutrients.length >= 1) {\r\n      return nutrients\r\n        .map((nutrient) => {\r\n          const nutrientInBasket = getTotalNutrients(basketNutrients, nutrient);\r\n          const nutrientLimit = nutrientLimitsMap.get(nutrient.id);\r\n          const totalNutrientVal = nutrientInBasket + nutrient.amount;\r\n\r\n          if (totalNutrientVal > nutrientLimit)\r\n            return { name: nutrient.id, total: totalNutrientVal };\r\n        })\r\n        .filter((x) => x !== undefined).length > 0\r\n        ? true\r\n        : false;\r\n    }\r\n    return false;\r\n  };\r\n  const handleAddToBasketClick = (product) => {\r\n    const isLimitExceeded = isNutrientLimitExceeded(product.nutrients);\r\n\r\n    if (!isLimitExceeded) {\r\n      dispatch(addToBasket(product));\r\n    } else {\r\n      // TODO: implement proper notification component for this scenario\r\n      alert(\"Limits reached\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <Header>\r\n        <LogoIcon />\r\n        <Button\r\n          width=\"310px\"\r\n          height=\"57px\"\r\n          disabled={loading}\r\n          onClick={() => setBasketModalOpen(!basketModalOpen)}\r\n        >\r\n          <TotalItems>{basketItems.length}</TotalItems>\r\n          Shopping basket\r\n        </Button>\r\n      </Header>\r\n      <Row justify=\"center\" align=\"center\">\r\n          <Typography\r\n            variant=\"h1\"\r\n            color=\"lightDark\"\r\n            gutterBottom=\"l\"\r\n            gutterTop=\"xxxxl\"\r\n            fontWeight=\"700\"\r\n          >\r\n            Products\r\n          </Typography>\r\n        <Divider />\r\n      </Row>\r\n      <Row direction=\"row\" justify=\"center\">\r\n        {products &&\r\n          products.products.map((product, index) => (\r\n            <ShoppingItem\r\n              key={index}\r\n              name={product.name}\r\n              addToBasket={() => handleAddToBasketClick(product)}\r\n              loading={loading}\r\n              error={error}\r\n            />\r\n          ))}\r\n      </Row>\r\n      {basketItems && (\r\n        <ShoppingBasket\r\n          onSubmit={() => {}}\r\n          closeModal={() => setBasketModalOpen(!basketModalOpen)}\r\n          isModalOpen={basketModalOpen}\r\n          products={basketItems}\r\n        />\r\n      )}\r\n      {error && <p>There has been an error</p>}\r\n    </PageWrapper>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const getTotalNutrients = (basketItems, nutrient) => {\r\n  return basketItems\r\n    .flat()\r\n    .filter((item) => {\r\n      if (item.id === nutrient.id) {\r\n        return item.amount;\r\n      }\r\n    })\r\n    .map((item) => item.amount)\r\n    .reduce((acc, curr) => acc + curr, 0);\r\n};\r\n"],"sourceRoot":""}